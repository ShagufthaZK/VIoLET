<div>
    <app-page-header [heading]="'Setup'" [icon]="'fa-edit'"></app-page-header>
    <div class="row">
        <div class="col-lg-3">
            <div class="card bg-light mb-3">
                <div class="card-body">
                    <div class="card-title">
                        Generate Config
                    </div>
                    <div class="card-text">
                        <span
                            *ngIf="generateInfraStatus==='success' || generateInfraStatus==='failure' ||generateInfraStatus==='running'">
                            &nbsp; &nbsp; <i class="fa fa-2x fa-check" style="opacity: 0; vertical-align: middle"></i>
                        </span>
                        <button type="submit" class="btn btn-primary"
                                [disabled]="generateInfraStatus==='running'"
                                (click)="generateInfra()">
                            Run
                        </button>
                        <span *ngIf="generateInfraStatus==='success'">&nbsp; &nbsp; <i class="fa fa-2x fa-check"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="generateInfraStatus==='failure'">&nbsp; &nbsp; <i class="fa fa-2x fa-times"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="generateInfraStatus==='running'">&nbsp; &nbsp; <i class="fa fa-2x fa-spinner"
                                                                                       style="vertical-align: middle"></i></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="card bg-light mb-3">
                <div class="card-body">
                    <div class="card-title">
                        Partition
                    </div>
                    <div class="card-text">
                        <span
                            *ngIf="partitionStatus==='success' || partitionStatus==='failure' || partitionStatus==='running'">
                            &nbsp; &nbsp; <i class="fa fa-2x fa-check" style="opacity: 0; vertical-align: middle"></i>
                        </span>
                        <button type="submit" class="btn btn-primary"
                                [disabled]="generateInfraStatus != 'success' || partitionStatus==='running'"
                                (click)="generateMetisInput()">
                            Run
                        </button>
                        <span *ngIf="partitionStatus==='success'">&nbsp; &nbsp; <i class="fa fa-2x fa-check"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="partitionStatus==='failure'">&nbsp; &nbsp; <i class="fa fa-2x fa-times"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="partitionStatus==='running'">&nbsp; &nbsp; <i class="fa fa-2x fa-spinner"
                                                                                       style="vertical-align: middle"></i></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="card bg-light mb-3">
                <div class="card-body">
                    <div class="card-title">
                        Deployment
                    </div>
                    <div class="card-text">
                        <span
                            *ngIf="deploymentStatus==='success' || deploymentStatus==='failure' || deploymentStatus==='running'">
                            &nbsp; &nbsp; <i class="fa fa-2x fa-check" style="opacity: 0; vertical-align: middle"></i>
                        </span>
                        <button type="submit" class="btn btn-primary"
                                [disabled]="partitionStatus != 'success' || deploymentStatus==='running'"
                                (click)="startDocker()">
                            Run
                        </button>
                        <span *ngIf="deploymentStatus==='success'">&nbsp; &nbsp; <i class="fa fa-2x fa-check"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="deploymentStatus==='failure'">&nbsp; &nbsp; <i class="fa fa-2x fa-times"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="deploymentStatus==='running'">&nbsp; &nbsp; <i class="fa fa-2x fa-spinner"
                                                                                       style="vertical-align: middle"></i></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="card bg-light mb-3">
                <div class="card-body">
                    <div class="card-title">
                        Sanity
                    </div>
                    <div class="card-text">
                        <span
                            *ngIf="sanityStatus==='success' || sanityStatus==='failure' || sanityStatus==='running'">
                            &nbsp; &nbsp; <i class="fa fa-2x fa-check" style="opacity: 0; vertical-align: middle"></i>
                        </span>
                        <select class="form-inline" style="display: inline" [(ngModel)] = "sanitySelection">
                            <option value="N/W">N/W</option>
                            <option value="CPU">CPU</option>
                            <option value="App">App</option>
                        </select>                        &nbsp; &nbsp;
                        <button type="submit" class="btn btn-primary"
                                [disabled]="deploymentStatus != 'success' || sanityStatus==='running'"
                                (click)="sanityRun()">
                            Run
                        </button>
                        <span *ngIf="sanityStatus==='success'">&nbsp; &nbsp; <i class="fa fa-2x fa-check"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="sanityStatus==='failure'">&nbsp; &nbsp; <i class="fa fa-2x fa-times"
                                                                                       style="vertical-align: middle"></i></span>
                        <span *ngIf="sanityStatus==='running'">&nbsp; &nbsp; <i class="fa fa-2x fa-spinner"
                                                                                       style="vertical-align: middle"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <ngb-tabset>
                        <ngb-tab title="Info">
                            <ng-template ngbTabContent>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <span>About</span>
                                        <p>To be added</p>
                                    </div>
                                    <div class="col-lg-6">
                                        <span>Console Output</span>
                                        <ace-editor [text]="console_output" mode="text" style="height:300px;"></ace-editor>
                                    </div>
                                </div>
                            </ng-template>
                        </ngb-tab>
                        <ngb-tab title="File View">
                            <ng-template ngbTabContent>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <span>Input File{{input_file_name}}</span>
                                        <ace-editor [text]="input_file" mode="object" style="height:300px;"></ace-editor>
                                    </div>
                                    <div class="col-lg-6">
                                        <span>Output File{{output_file_name}}</span>
                                        <ace-editor [text]="output_file" mode="json" style="height:300px;"></ace-editor>
                                    </div>
                                </div>
                            </ng-template>
                        </ngb-tab>
                        <ngb-tab title="Visualization">
                            <ng-template ngbTabContent>
                                <p>Sample Text</p>
                            </ng-template>
                        </ngb-tab>
                    </ngb-tabset>
                </div>
            </div>
        </div>
    </div>
</div>
